"use strict";var loadPyodide=(()=>{var e,t,r,i,n,o=Object.create,a=Object.defineProperty,s=Object.getOwnPropertyDescriptor,l=Object.getOwnPropertyNames,c=Object.getPrototypeOf,d=Object.prototype.hasOwnProperty,u=(e,t)=>a(e,"name",{value:t,configurable:!0}),p=(n=function(e){if("u">typeof require)return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')},"u">typeof require?require:"u">typeof Proxy?new Proxy(n,{get:(e,t)=>("u">typeof require?require:e)[t]}):n),f=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),m=(e,t)=>{for(var r in t)a(e,r,{get:t[r],enumerable:!0})},y=(e,t,r,i)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of l(t))d.call(e,n)||n===r||a(e,n,{get:()=>t[n],enumerable:!(i=s(t,n))||i.enumerable});return e},h=(e,t,r)=>(r=null!=e?o(c(e)):{},y(!t&&e&&e.__esModule?r:a(r,"default",{value:e,enumerable:!0}),e)),g=e=>y(a({},"__esModule",{value:!0}),e),v=f((e,t)=>{!function(r,i){"function"==typeof define&&define.amd?define("stackframe",[],i):"object"==typeof e?t.exports=i():r.StackFrame=i()}(e,function(){function e(e){return!isNaN(parseFloat(e))&&isFinite(e)}function t(e){return e.charAt(0).toUpperCase()+e.substring(1)}function r(e){return function(){return this[e]}}u(e,"_isNumber"),u(t,"_capitalize"),u(r,"_getter");var i=["isConstructor","isEval","isNative","isToplevel"],n=["columnNumber","lineNumber"],o=["fileName","functionName","source"],a=i.concat(n,o,["args"],["evalOrigin"]);function s(e){if(e)for(var r=0;r<a.length;r++)void 0!==e[a[r]]&&this["set"+t(a[r])](e[a[r]])}u(s,"StackFrame"),s.prototype={getArgs:function(){return this.args},setArgs:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw TypeError("Args must be an Array");this.args=e},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(e){if(e instanceof s)this.evalOrigin=e;else if(e instanceof Object)this.evalOrigin=new s(e);else throw TypeError("Eval Origin must be an Object or StackFrame")},toString:function(){var e=this.getFileName()||"",t=this.getLineNumber()||"",r=this.getColumnNumber()||"",i=this.getFunctionName()||"";return this.getIsEval()?e?"[eval] ("+e+":"+t+":"+r+")":"[eval]:"+t+":"+r:i?i+" ("+e+":"+t+":"+r+")":e+":"+t+":"+r}},s.fromString=u(function(e){var t=e.indexOf("("),r=e.lastIndexOf(")"),i=e.substring(0,t),n=e.substring(t+1,r).split(","),o=e.substring(r+1);if(0===o.indexOf("@"))var a=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(o,""),l=a[1],c=a[2],d=a[3];return new s({functionName:i,args:n||void 0,fileName:l,lineNumber:c||void 0,columnNumber:d||void 0})},"StackFrame$$fromString");for(var l=0;l<i.length;l++)s.prototype["get"+t(i[l])]=r(i[l]),s.prototype["set"+t(i[l])]=function(e){return function(t){this[e]=!!t}}(i[l]);for(var c=0;c<n.length;c++)s.prototype["get"+t(n[c])]=r(n[c]),s.prototype["set"+t(n[c])]=function(t){return function(r){if(!e(r))throw TypeError(t+" must be a Number");this[t]=Number(r)}}(n[c]);for(var d=0;d<o.length;d++)s.prototype["get"+t(o[d])]=r(o[d]),s.prototype["set"+t(o[d])]=function(e){return function(t){this[e]=String(t)}}(o[d]);return s})}),w=f((e,t)=>{!function(r,i){"function"==typeof define&&define.amd?define("error-stack-parser",["stackframe"],i):"object"==typeof e?t.exports=i(v()):r.ErrorStackParser=i(r.StackFrame)}(e,u(function(e){var t=/(^|@)\S+:\d+/,r=/^\s*at .*(\S+:\d+|\(native\))/m,i=/^(eval@)?(\[native code])?$/;return{parse:u(function(e){if("u">typeof e.stacktrace||"u">typeof e["opera#sourceloc"])return this.parseOpera(e);if(e.stack&&e.stack.match(r))return this.parseV8OrIE(e);if(e.stack)return this.parseFFOrSafari(e);throw Error("Cannot parse given Error object")},"ErrorStackParser$$parse"),extractLocation:u(function(e){if(-1===e.indexOf(":"))return[e];var t=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(e.replace(/[()]/g,""));return[t[1],t[2]||void 0,t[3]||void 0]},"ErrorStackParser$$extractLocation"),parseV8OrIE:u(function(t){return t.stack.split(`
`).filter(function(e){return!!e.match(r)},this).map(function(t){t.indexOf("(eval ")>-1&&(t=t.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(,.*$)/g,""));var r=t.replace(/^\s+/,"").replace(/\(eval code/g,"(").replace(/^.*?\s+/,""),i=r.match(/ (\(.+\)$)/);r=i?r.replace(i[0],""):r;var n=this.extractLocation(i?i[1]:r),o=i&&r||void 0,a=["eval","<anonymous>"].indexOf(n[0])>-1?void 0:n[0];return new e({functionName:o,fileName:a,lineNumber:n[1],columnNumber:n[2],source:t})},this)},"ErrorStackParser$$parseV8OrIE"),parseFFOrSafari:u(function(t){return t.stack.split(`
`).filter(function(e){return!e.match(i)},this).map(function(t){if(t.indexOf(" > eval")>-1&&(t=t.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),-1===t.indexOf("@")&&-1===t.indexOf(":"))return new e({functionName:t});var r=/((.*".+"[^@]*)?[^@]*)(?:@)/,i=t.match(r),n=i&&i[1]?i[1]:void 0,o=this.extractLocation(t.replace(r,""));return new e({functionName:n,fileName:o[0],lineNumber:o[1],columnNumber:o[2],source:t})},this)},"ErrorStackParser$$parseFFOrSafari"),parseOpera:u(function(e){return!e.stacktrace||e.message.indexOf(`
`)>-1&&e.message.split(`
`).length>e.stacktrace.split(`
`).length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},"ErrorStackParser$$parseOpera"),parseOpera9:u(function(t){for(var r=/Line (\d+).*script (?:in )?(\S+)/i,i=t.message.split(`
`),n=[],o=2,a=i.length;o<a;o+=2){var s=r.exec(i[o]);s&&n.push(new e({fileName:s[2],lineNumber:s[1],source:i[o]}))}return n},"ErrorStackParser$$parseOpera9"),parseOpera10:u(function(t){for(var r=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,i=t.stacktrace.split(`
`),n=[],o=0,a=i.length;o<a;o+=2){var s=r.exec(i[o]);s&&n.push(new e({functionName:s[3]||void 0,fileName:s[2],lineNumber:s[1],source:i[o]}))}return n},"ErrorStackParser$$parseOpera10"),parseOpera11:u(function(r){return r.stack.split(`
`).filter(function(e){return!!e.match(t)&&!e.match(/^Error created at/)},this).map(function(t){var r,i=t.split("@"),n=this.extractLocation(i.pop()),o=i.shift()||"",a=o.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;o.match(/\(([^)]*)\)/)&&(r=o.replace(/^[^(]+\(([^)]*)\)$/,"$1"));var s=void 0===r||"[arguments not available]"===r?void 0:r.split(",");return new e({functionName:a,args:s,fileName:n[0],lineNumber:n[1],columnNumber:n[2],source:t})},this)},"ErrorStackParser$$parseOpera11")}},"ErrorStackParser"))}),b={};m(b,{loadPyodide:()=>K,version:()=>W});var k,S,E,O,F,P=h(w()),$="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node&&void 0===process.browser;async function L(){if(!$||(k=(await import("url")).default,F=await import("fs/promises"),S=globalThis.fetch?fetch:(await import("node-fetch")).default,O=(await import("vm")).default,t=(E=await import("path")).sep,void 0!==p))return;let e=await import("fs"),r=await import("crypto"),i,n={fs:e,crypto:r,ws:await import("ws"),child_process:await import("child_process")};globalThis.require=function(e){return n[e]}}function N(e,t){return E.resolve(t||".",e)}function x(e,t){return void 0===t&&(t=location),new URL(e,t).toString()}function R(e,t){return e.startsWith("file://")&&(e=e.slice(7)),e.includes("://")?{response:S(e)}:{binary:F.readFile(e).then(e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}}function _(e,t){let r=new URL(e,location);return{response:fetch(r,t?{integrity:t}:{})}}async function D(e,t){let{response:i,binary:n}=r(e,t);if(n)return n;let o=await i;if(!o.ok)throw Error(`Failed to load '${e}': request failed.`);return new Uint8Array(await o.arrayBuffer())}if(u(L,"initNodeModules"),u(N,"node_resolvePath"),u(x,"browser_resolvePath"),e=$?N:x,$||(t="/"),u(R,"node_getBinaryResponse"),u(_,"browser_getBinaryResponse"),r=$?R:_,u(D,"loadBinaryFile"),globalThis.document)i=u(async e=>await import(e),"loadScript");else if(globalThis.importScripts)i=u(async e=>{try{globalThis.importScripts(e)}catch(t){if(t instanceof TypeError)await import(e);else throw t}},"loadScript");else if($)i=I;else throw Error("Cannot determine runtime environment");async function I(e){e.startsWith("file://")&&(e=e.slice(7)),e.includes("://")?O.runInThisContext(await (await S(e)).text()):await import(k.pathToFileURL(e).href)}function j(e){let t=e.FS,r=e.FS.filesystems.MEMFS,i=e.PATH,n={DIR_MODE:16895,FILE_MODE:33279,mount:function(e){if(!e.opts.fileSystemHandle)throw Error("opts.fileSystemHandle is required");return r.mount.apply(null,arguments)},async syncfs(e,t,r){try{let i=n.getLocalSet(e),o=await n.getRemoteSet(e);await n.reconcile(e,t?o:i,t?i:o),r(null)}catch(a){r(a)}},getLocalSet(e){let r=Object.create(null);function n(e){return"."!==e&&".."!==e}function o(e){return t=>i.join2(e,t)}u(n,"isRealDir"),u(o,"toAbsolute");let a=t.readdir(e.mountpoint).filter(n).map(o(e.mountpoint));for(;a.length;){let s=a.pop(),l=t.stat(s);t.isDir(l.mode)&&a.push.apply(a,t.readdir(s).filter(n).map(o(s))),r[s]={timestamp:l.mtime,mode:l.mode}}return{type:"local",entries:r}},async getRemoteSet(e){let t=Object.create(null),r=await M(e.opts.fileSystemHandle);for(let[o,a]of r)"."!==o&&(t[i.join2(e.mountpoint,o)]={timestamp:"file"===a.kind?(await a.getFile()).lastModifiedDate:new Date,mode:"file"===a.kind?n.FILE_MODE:n.DIR_MODE});return{type:"remote",entries:t,handles:r}},loadLocalEntry(e){let i=t.lookupPath(e).node,n=t.stat(e);if(t.isDir(n.mode))return{timestamp:n.mtime,mode:n.mode};if(t.isFile(n.mode))return i.contents=r.getFileDataAsTypedArray(i),{timestamp:n.mtime,mode:n.mode,contents:i.contents};throw Error("node type not supported")},storeLocalEntry(e,r){if(t.isDir(r.mode))t.mkdirTree(e,r.mode);else if(t.isFile(r.mode))t.writeFile(e,r.contents,{canOwn:!0});else throw Error("node type not supported");t.chmod(e,r.mode),t.utime(e,r.timestamp,r.timestamp)},removeLocalEntry(e){var r=t.stat(e);t.isDir(r.mode)?t.rmdir(e):t.isFile(r.mode)&&t.unlink(e)},async loadRemoteEntry(e){if("file"===e.kind){let t=await e.getFile();return{contents:new Uint8Array(await t.arrayBuffer()),mode:n.FILE_MODE,timestamp:t.lastModifiedDate}}if("directory"===e.kind)return{mode:n.DIR_MODE,timestamp:new Date};throw Error("unknown kind: "+e.kind)},async storeRemoteEntry(e,r,n){let o=e.get(i.dirname(r)),a=t.isFile(n.mode)?await o.getFileHandle(i.basename(r),{create:!0}):await o.getDirectoryHandle(i.basename(r),{create:!0});if("file"===a.kind){let s=await a.createWritable();await s.write(n.contents),await s.close()}e.set(r,a)},async removeRemoteEntry(e,t){await e.get(i.dirname(t)).removeEntry(i.basename(t)),e.delete(t)},async reconcile(e,r,o){let a=0,s=[];Object.keys(r.entries).forEach(function(e){let i=r.entries[e],n=o.entries[e];(!n||t.isFile(i.mode)&&i.timestamp.getTime()>n.timestamp.getTime())&&(s.push(e),a++)}),s.sort();let l=[];if(Object.keys(o.entries).forEach(function(e){r.entries[e]||(l.push(e),a++)}),l.sort().reverse(),!a)return;let c="remote"===r.type?r.handles:o.handles;for(let d of s){let u=i.normalize(d.replace(e.mountpoint,"/")).substring(1);if("local"===o.type){let p=await n.loadRemoteEntry(c.get(u));n.storeLocalEntry(d,p)}else await n.storeRemoteEntry(c,u,n.loadLocalEntry(d))}for(let f of l)"local"===o.type?n.removeLocalEntry(f):await n.removeRemoteEntry(c,i.normalize(f.replace(e.mountpoint,"/")).substring(1))}};e.FS.filesystems.NATIVEFS_ASYNC=n}u(I,"nodeLoadScript"),u(j,"initializeNativeFS");var M=u(async e=>{let t=[];async function r(e){for await(let i of e.values())t.push(i),"directory"===i.kind&&await r(i)}u(r,"collect"),await r(e);let i=new Map;for(let n of(i.set(".",e),t)){let o=(await e.resolve(n)).join("/");i.set(o,n)}return i},"getFsHandles");function A(){let e={};return e.noImageDecoding=!0,e.noAudioDecoding=!0,e.noWasmDecoding=!1,e.preRun=[],e.quit=(t,r)=>{throw e.exited={status:t,toThrow:r},r},e}function H(e,t){e.preRun.push(function(){try{e.FS.mkdirTree(t)}catch(r){console.error(`Error occurred while making a home directory '${t}':`),console.error(r),console.error("Using '/' for a home directory instead"),t="/"}e.FS.chdir(t)})}function T(e,t){e.preRun.push(function(){Object.assign(e.ENV,t)})}function U(e,t){e.preRun.push(()=>{for(let r of t)e.FS.mkdirTree(r),e.FS.mount(e.FS.filesystems.NODEFS,{root:r},r)})}function C(e,t){let r=D(t);e.preRun.push(()=>{let t=e._py_version_major(),i=e._py_version_minor();e.FS.mkdirTree("/lib"),e.FS.mkdirTree(`/lib/python${t}.${i}/site-packages`),e.addRunDependency("install-stdlib"),r.then(r=>{e.FS.writeFile(`/lib/python${t}${i}.zip`,r)}).catch(e=>{console.error("Error occurred while installing the standard library:"),console.error(e)}).finally(()=>{e.removeRunDependency("install-stdlib")})})}function z(e,t){let r;C(e,r=null!=t.stdLibURL?t.stdLibURL:t.indexURL+"python_stdlib.zip"),H(e,t.env.HOME),T(e,t.env),U(e,t._node_mounts),e.preRun.push(()=>j(e))}function B(e,t){let{binary:i,response:n}=r(t+"pyodide.asm.wasm");e.instantiateWasm=function(e,t){return async function(){try{let r,{instance:o,module:a}=r=n?await WebAssembly.instantiateStreaming(n,e):await WebAssembly.instantiate(await i,e);"undefined"!=typeof WasmOffsetConverter&&(wasmOffsetConverter=new WasmOffsetConverter(wasmBinary,a)),t(o,a)}catch(s){console.warn("wasm instantiation failed!"),console.warn(s)}}(),{}}}u(A,"createModule"),u(H,"createHomeDirectory"),u(T,"setEnvironment"),u(U,"mountLocalDirectories"),u(C,"installStdlib"),u(z,"initializeFileSystem"),u(B,"preloadWasm");var W="0.24.1";function q(e,t){return new Proxy(e,{get:(e,r)=>"get"===r?r=>{let i=e.get(r);return void 0===i&&(i=t.get(r)),i}:"has"===r?r=>e.has(r)||t.has(r):Reflect.get(e,r)})}function V(e,t){e.runPythonInternal_dict=e._pyodide._base.eval_code("{}"),e.importlib=e.runPythonInternal("import importlib; importlib");let r=e.importlib.import_module;e.sys=r("sys"),e.sys.path.insert(0,t.env.HOME),e.os=r("os");let i=e.runPythonInternal("import __main__; __main__.__dict__"),n=e.runPythonInternal("import builtins; builtins.__dict__");e.globals=q(i,n);let o=e._pyodide._importhook;function a(e){"__all__"in e||Object.defineProperty(e,"__all__",{get:()=>s.toPy(Object.getOwnPropertyNames(e).filter(e=>"__all__"!==e)),enumerable:!1,configurable:!0})}u(a,"jsFinderHook"),o.register_js_finder.callKwargs({hook:a}),o.register_js_module("js",t.jsglobals);let s=e.makePublicAPI();return o.register_js_module("pyodide_js",s),e.pyodide_py=r("pyodide"),e.pyodide_code=r("pyodide.code"),e.pyodide_ffi=r("pyodide.ffi"),e.package_loader=r("pyodide._package_loader"),e.sitepackages=e.package_loader.SITE_PACKAGES.__str__(),e.dsodir=e.package_loader.DSO_DIR.__str__(),e.defaultLdLibraryPath=[e.dsodir,e.sitepackages],e.os.environ.__setitem__("LD_LIBRARY_PATH",e.defaultLdLibraryPath.join(":")),s.pyodide_py=e.pyodide_py,s.globals=e.globals,s}function G(){if("string"==typeof __dirname)return __dirname;let e;try{throw Error()}catch(r){e=r}let i=P.default.parse(e)[0].fileName,n=i.lastIndexOf(t);if(-1===n)throw Error("Could not extract indexURL path from pyodide module location");return i.slice(0,n)}async function K(t={}){await L();let r=t.indexURL||G();(r=e(r)).endsWith("/")||(r+="/"),t.indexURL=r;let n=Object.assign({fullStdLib:!1,jsglobals:globalThis,stdin:globalThis.prompt?globalThis.prompt:void 0,lockFileURL:r+"pyodide-lock.json",args:[],_node_mounts:[],env:{},packageCacheDir:r,packages:[]},t);if(t.homedir){if(console.warn("The homedir argument to loadPyodide is deprecated. Use 'env: { HOME: value }' instead of 'homedir: value'."),t.env&&t.env.HOME)throw Error("Set both env.HOME and homedir arguments");n.env.HOME=n.homedir}n.env.HOME||(n.env.HOME="/home/pyodide");let o=A();o.print=n.stdout,o.printErr=n.stderr,o.arguments=n.args;let a={config:n};o.API=a,B(o,r),z(o,n);let s=new Promise(e=>o.postRun=e),l;if(a.bootstrapFinalizedPromise=new Promise(e=>l=e),o.locateFile=e=>n.indexURL+e,"function"!=typeof _createPyodideModule&&await i(`${n.indexURL}pyodide.asm.js`),await _createPyodideModule(o),await s,o.exited)throw o.exited.toThrow;if(a.version!==W)throw Error(`Pyodide version does not match: '${W}' <==> '${a.version}'. If you updated the Pyodide version, make sure you also updated the 'indexURL' parameter passed to loadPyodide.`);o.locateFile=e=>{throw Error("Didn't expect to load any more file_packager files!")};let[c,d]=a.rawRun("import _pyodide_core");c&&o.API.fatal_loading_error(`Failed to import _pyodide_core
`,d);let u=V(a,n);if(l(),u.version.includes("dev")||a.setCdnUrl(`https://cdn.jsdelivr.net/pyodide/v${u.version}/full/`),await a.packageIndexReady,a._pyodide._importhook.register_module_not_found_hook(a._import_name_to_package_name,a.lockfile_unvendored_stdlibs_and_test),a.lockfile_info.version!==W)throw Error("Lock file version doesn't match Pyodide version");return a.package_loader.init_loaded_packages(),n.fullStdLib&&await u.loadPackage(a.lockfile_unvendored_stdlibs),a.initializeStreams(n.stdin,n.stdout,n.stderr),u}return u(q,"wrapPythonGlobals"),u(V,"finalizeBootstrap"),u(G,"calculateIndexURL"),u(K,"loadPyodide"),globalThis.loadPyodide=K,g(b)})();try{Object.assign(exports,loadPyodide)}catch(e){}globalThis.loadPyodide=loadPyodide.loadPyodide;